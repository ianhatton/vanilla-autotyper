{"version":3,"sources":["../src/vanilla-autotyper.js"],"names":[],"mappings":";;;;;;AAAA,IAAM,IAAI,QAAQ,QAAR,CAAV;;IAEM,c;AACJ,0BAAY,EAAZ,EAA4B;AAAA,QAAZ,MAAY,yDAAH,EAAG;;AAAA;;AAC1B,QAAI,UAAU,SAAS,cAAT,CAAwB,EAAxB,CAAd;;AAEA,QAAI,CAAC,EAAE,SAAF,CAAY,OAAZ,CAAL,EAA2B;;AAE3B,SAAK,MAAL,GAAc,EAAE,QAAF,CAAW,MAAX,EACZ;AACE,eAAS;AADX,KADY,CAAd;AAKD;;;;4BAEM;AACL,WAAK,YAAL,GAAoB,CAApB;AACA,WAAK,OAAL,GAAe,KAAK,MAAL,CAAY,OAAZ,CAAoB,aAApB,CAAkC,qBAAlC,CAAf;AACA,WAAK,YAAL,GAAoB,CAApB;AACA,WAAK,KAAL,GAAa,EAAb;AACA,WAAK,OAAL;AACD;;;8BAEQ;AACP,WAAK,SAAL;AACD;;;6CAEuB;AACtB,WAAK,eAAL,GAAuB,SAAS,aAAT,CAAuB,GAAvB,CAAvB;;AAEA,WAAK,eAAL,CAAqB,YAArB,CAAkC,MAAlC,EAA0C,KAAK,WAAL,CAAiB,IAA3D;AACA,WAAK,OAAL,CAAa,WAAb,CAAyB,KAAK,eAA9B;;AAEA,WAAK,KAAL,GAAa,OAAO,WAAP,CAAmB,YAAU;AACxC,aAAK,YAAL;AACD,OAF+B,CAE9B,IAF8B,CAEzB,IAFyB,CAAnB,EAEC,EAFD,CAAb;AAGD;;;mCAEc,Q,EAAS;AACtB,aAAO,aAAP,CAAqB,QAArB;AACD;;;6BAEO;AACN,UAAI,KAAK,YAAL,IAAqB,CAAzB,EAA2B;AACzB,YAAI,YAAY,KAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB,CAA6B,CAA7B,EAAgC,KAAK,YAAL,EAAhC,CAAhB;AACA,aAAK,eAAL,CAAqB,SAArB,GAAiC,SAAjC;AACD,OAHD,MAGO;AACL,aAAK,cAAL,CAAoB,KAAK,KAAzB;AACA,aAAK,sBAAL;AACA,aAAK,gBAAL;AACA,aAAK,eAAL,CAAqB,KAAK,YAA1B;AACD;AACF;;;uCAEiB;AAChB,UAAI,KAAK,YAAL,GAAqB,KAAK,KAAL,CAAW,MAAX,GAAoB,CAA7C,EAAgD;AAC9C,aAAK,YAAL,GAAqB,KAAK,YAAL,GAAoB,CAAzC;AACD,OAFD,MAEO;AACL,aAAK,YAAL,GAAoB,CAApB;AACD;AACF;;;gCAEU;AAAA;;AACT,UAAI,OAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,YAApB,CAAiC,kBAAjC,CAAX;AACA,UAAI,aAAa,KAAK,KAAL,CAAW,IAAX,CAAjB;;AAEA,QAAE,OAAF,CAAU,UAAV,EAAsB,UAAC,IAAD,EAAQ;AAC5B,cAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB;AACD,OAFD;;AAIA,WAAK,eAAL,CAAqB,KAAK,YAA1B;AACD;;;6CAEuB;AACtB,WAAK,OAAL,CAAa,WAAb,CAAyB,KAAK,eAA9B;AACD;;;oCAEe,K,EAAM;AACpB,WAAK,WAAL,GAAmB,KAAK,KAAL,CAAW,KAAX,CAAnB;;AAEA,WAAK,sBAAL;AACD;;;mCAEa;AACZ,UAAK,KAAK,YAAL,GAAoB,KAAK,WAAL,CAAiB,IAAjB,CAAsB,MAA/C,EAAuD;AACrD,YAAI,YAAY,KAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB,CAA6B,KAAK,YAAL,EAA7B,CAAhB;AACA,aAAK,eAAL,CAAqB,SAArB,IAAkC,SAAlC;AACD,OAHD,MAGO;AACL,aAAK,WAAL;AACD;AACF;;;kCAEY;AAAA;;AACX,WAAK,cAAL,CAAoB,KAAK,KAAzB;;AAEA,QAAE,KAAF,CAAQ,YAAI;AACV,eAAK,KAAL,GAAa,OAAO,WAAP,CAAmB,YAAU;AACxC,eAAK,MAAL;AACD,SAF+B,CAE9B,IAF8B,QAAnB,EAEC,EAFD,CAAb;AAGD,OAJD,EAIG,IAJH;AAKD;;;;;;AAGH,OAAO,OAAP,GAAiB,cAAjB","file":"vanilla-autotyper.js","sourcesContent":["const _ = require('lodash');\n\nclass AutotyperClass{\n  constructor(id, config = {}){\n    let element = document.getElementById(id);\n\n    if (!_.isElement(element)) return;\n\n    this.config = _.defaults(config,\n      {\n        element: element\n      }\n    );\n  }\n\n  _init(){\n    this.bodyPosition = 0;\n    this.content = this.config.element.querySelector('.auto-typer-content');\n    this.currentIndex = 0;\n    this.items = [];\n    this._render();\n  }\n\n  _render(){\n    this._getItems();\n  }\n\n  _appendCurrentItemLink(){\n    this.currentItemLink = document.createElement('a');\n\n    this.currentItemLink.setAttribute('href', this.currentItem.path);\n    this.content.appendChild(this.currentItemLink);\n\n    this.timer = window.setInterval(function(){\n      this._startTyping();\n    }.bind(this), 10);\n  }\n\n  _clearInterval(interval){\n    window.clearInterval(interval);\n  }\n\n  _erase(){\n    if (this.bodyPosition >= 0){\n      let substring = this.currentItem.body.substr(0, this.bodyPosition--);\n      this.currentItemLink.innerHTML = substring;\n    } else {\n      this._clearInterval(this.timer);\n      this._removeCurrentItemLink();\n      this._setCurrentIndex();\n      this._setCurrentItem(this.currentIndex);\n    }\n  }\n\n  _setCurrentIndex(){\n    if (this.currentIndex < (this.items.length - 1)){\n      this.currentIndex = (this.currentIndex + 1);\n    } else {\n      this.currentIndex = 0;\n    }\n  }\n\n  _getItems(){\n    let data = this.config.element.getAttribute('data-news-ticker');\n    let parsedData = JSON.parse(data);\n\n    _.forEach(parsedData, (item)=>{\n      this.items.push(item);\n    });\n\n    this._setCurrentItem(this.currentIndex);\n  }\n\n  _removeCurrentItemLink(){\n    this.content.removeChild(this.currentItemLink);\n  }\n\n  _setCurrentItem(index){\n    this.currentItem = this.items[index];\n\n    this._appendCurrentItemLink();\n  }\n\n  _startTyping(){\n    if ((this.bodyPosition < this.currentItem.body.length)){\n      let substring = this.currentItem.body.charAt(this.bodyPosition++);\n      this.currentItemLink.innerHTML += substring;\n    } else {\n      this._stopTyping();\n    }\n  }\n\n  _stopTyping(){\n    this._clearInterval(this.timer);\n\n    _.delay(()=>{\n      this.timer = window.setInterval(function(){\n        this._erase();\n      }.bind(this), 10);\n    }, 3000);\n  }\n}\n\nmodule.exports = AutotyperClass;\n"]}